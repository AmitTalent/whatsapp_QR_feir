<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WhatsApp Link</title>
<style>
body {font-family: Arial, sans-serif; padding: 20px; text-align:center;}
select, button {padding:8px 12px; margin:5px; font-size:16px;}
button {background:#25D366; color:#fff; border:none; border-radius:4px; cursor:pointer;}
button:disabled {background:#ccc; cursor:not-allowed;}
</style>
</head>
<body>

<h2>קישור WhatsApp מוכן</h2>

<select id="role">
  <option value="">בחר/י משרה</option>
  <option value="טבחים/יות">טבחים/יות</option>
  <option value="הווי ובידור">הווי ובידור</option>
  <option value="קבטים/יות">קבטים/יות</option>
  <option value="פקיד/ת קבלה">פקיד/ת קבלה</option>
  <option value="מלצר/ית">מלצר/ית</option>
</select>

<select id="area">
  <option value="">בחר/י אזור</option>
  <option value="אילת">אילת</option>
  <option value="ים המלח">ים המלח</option>
  <option value="תל אביב וירושלים">תל אביב וירושלים</option>
  <option value="צפון">צפון</option>
</select>

<br>
<button id="sendBtn" disabled>שלח/י עכשיו ב-WhatsApp</button>

<script>
// ====== הגדרות ראשיות ======
const conferenceName = "כנס משתחררים באשקלון"; // <-- כאן תשנה כשיש כנס חדש

// מספרי טלפון לפי אזור (כרגע כולם אותו מספר)
const phonesByArea = {
  "אילת": "97236215494",
  "ים המלח": "97236215494",
  "תל אביב וירושלים": "97236215494",
  "צפון": "97236215494"
};

// ====== לוגיקה ======
function buildMessage(role, area) {
  return `היי, אשמח לשמוע פרטים נוספים על משרת ${role} למלון נופש יוקרתי ב${area} שפרסמתם ב${conferenceName}`;
}

function canSend(role, area) {
  return role !== "" && area !== "";
}

function sendWhatsApp(role, area) {
  if (!canSend(role, area)) return;

  const phone = phonesByArea[area]; // בוחר את המספר לפי אזור
  const msg = buildMessage(role, area);
  const url = `https://api.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(msg)}`;

  window.open(url, "_blank");
}

// ====== UI ======
const roleSel = document.getElementById("role");
const areaSel = document.getElementById("area");
const btn = document.getElementById("sendBtn");

function updateButtonState() {
  btn.disabled = !canSend(roleSel.value, areaSel.value);
}

// מאזינים לשינויים
btn.addEventListener("click", () => sendWhatsApp(roleSel.value, areaSel.value));
roleSel.addEventListener("change", updateButtonState);
areaSel.addEventListener("change", updateButtonState);

</script>

</body>
</html>
